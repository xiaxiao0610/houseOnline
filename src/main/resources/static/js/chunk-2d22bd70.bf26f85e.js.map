{"version":3,"sources":["webpack:///./src/views/Agent/newHouse.vue","webpack:///./src/views/Agent/newHouse.vue?82ea"],"names":["style","user","name","gender","size","src","userface","rentaldemand","location","community","door","demandPhone","dashed","label-placement","model","houseMess","ref","rules","cols","x-gap","span","label","path","placeholder","value","rent","region","options","metroLine","mode","lease","area","floor","houseType","direction","elevator","parking","type","maxlength","show-count","houseData","houseDescription","optionsData","item-style","handleChange","action","url","default-upload","submit","components","ArchiveIcon","setup","props","message","route","router","mess","formRef","houseId","id","fileListLength","upload","userId","adminId","building","allWithChildren","then","resp","data","validate","errors","error","info","setTimeout","console","log","query","push","success","findById","fileList","length","test","test1","required","trigger","render","__scopeId"],"mappings":"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","file":"js/chunk-2d22bd70.bf26f85e.js","sourcesContent":["<template>\r\n<!--  <n-button @click=\"test\" >test</n-button>-->\r\n<!--  <n-button @click=\"test1\" >test1</n-button>-->\r\n  <n-card style=\"width: 700px;margin: 20px auto;text-align: center\">\r\n    <n-table >\r\n      <thead>\r\n      <tr>\r\n        <th>姓名</th>\r\n        <th>性别</th>\r\n        <th>头像</th>\r\n        <th>区</th>\r\n        <th>小区</th>\r\n        <th>楼房</th>\r\n        <th>联系电话</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td>{{user.name}}</td>\r\n        <td>{{user.gender}}</td>\r\n        <td><n-avatar\r\n            size=\"medium\"\r\n            :src=\"user.userface\"\r\n        /></td>\r\n        <td>{{rentaldemand.location}}</td>\r\n        <td>{{rentaldemand.community}}</td>\r\n        <td>{{rentaldemand.door}}</td>\r\n        <td>{{rentaldemand.demandPhone}}</td>\r\n      </tr>\r\n      </tbody>\r\n    </n-table>\r\n    <n-divider dashed>房屋基本信息</n-divider>\r\n\r\n\r\n\r\n\r\n\r\n  <n-form  label-placement=\"left\" :model=\"houseMess\" ref=\"formRef\" :rules=\"rules\">\r\n    <n-grid :cols=\"24\" :x-gap=\"24\">\r\n      <n-form-item-gi :span=\"12\" label=\"租金\" path=\"rent\">\r\n        <n-input placeholder=\"租金\" v-model:value=\"houseMess.rent\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"区域\" path=\"region\">\r\n\r\n        <n-select v-model:value=\"houseMess.region\" :options=\"region\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"地铁线\" path=\"metroLine\">\r\n        <n-select v-model:value=\"houseMess.metroLine\" :options=\"metroLine\" />\r\n\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"方式\" path=\"mode\">\r\n        <n-select v-model:value=\"houseMess.mode\" :options=\"mode\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"租期\" path=\"lease\">\r\n        <n-select v-model:value=\"houseMess.lease\" :options=\"lease\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"面积\" path=\"area\">\r\n        <n-input placeholder=\"面积\"  v-model:value=\"houseMess.area\"/>\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"楼层\" path=\"floor\">\r\n        <n-input placeholder=\"楼层\"  v-model:value=\"houseMess.floor\"/>\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"居室类型\" path=\"houseType\">\r\n        <n-select v-model:value=\"houseMess.houseType\" :options=\"houseType\" />\r\n\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"朝向\" path=\"direction\">\r\n        <n-select v-model:value=\"houseMess.direction\" :options=\"direction\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"电梯\" path=\"elevator\">\r\n        <n-select v-model:value=\"houseMess.elevator\" :options=\"elevator\" />\r\n      </n-form-item-gi>\r\n      <n-form-item-gi :span=\"12\" label=\"车位\" path=\"parking\">\r\n        <n-select v-model:value=\"houseMess.parking\" :options=\"parking\" />\r\n      </n-form-item-gi>\r\n    </n-grid>\r\n    <n-form-item :span=\"12\" label=\"房屋描述\">\r\n      <n-input type=\"textarea\"  maxlength=\"250\" show-count  v-model:value=\"houseData.houseDescription\"/>\r\n    </n-form-item>\r\n\r\n    <n-divider dashed>房屋基本设施</n-divider>\r\n\r\n    <n-checkbox-group v-model:value=\"optionsData\" >\r\n      <n-space item-style=\"display: flex;\">\r\n        <n-checkbox value=\"1\" label=\"洗衣机\" />\r\n        <n-checkbox value=\"2\" label=\"空调\" />\r\n        <n-checkbox value=\"3\" label=\"衣柜\" />\r\n        <n-checkbox value=\"4\" label=\"电视\" />\r\n        <n-checkbox value=\"5\" label=\"冰箱\" />\r\n        <n-checkbox value=\"6\" label=\"热水器\" />\r\n        <n-checkbox value=\"7\" label=\"床\" />\r\n        <n-checkbox value=\"8\" label=\"暖气\" />\r\n        <n-checkbox value=\"9\" label=\"宽带\" />\r\n        <n-checkbox value=\"10\" label=\"天然气\" />\r\n\r\n\r\n      </n-space>\r\n    </n-checkbox-group>\r\n    <n-divider dashed>房屋图片</n-divider>\r\n<!--    <upload/>-->\r\n    <div>\r\n<!--      <n-upload :action=\"url\" :default-upload=\"true\" ref=\"upload\"  @change=\"handleChange\">-->\r\n<!--      <n-upload-dragger>-->\r\n<!--        <div style=\"margin-bottom: 12px;\">-->\r\n<!--          <n-icon size=\"48\" :depth=\"3\">-->\r\n<!--            <archive-icon />-->\r\n<!--          </n-icon>-->\r\n<!--        </div>-->\r\n<!--        <n-text style=\"font-size: 16px;\">点击或者拖动文件到该区域来上传</n-text>-->\r\n<!--        <n-p depth=\"3\" style=\"margin: 8px 0 0 0;\"-->\r\n<!--        >请不要上传敏感数据，比如你的银行卡号和密码，信用卡号有效期和安全码</n-p-->\r\n<!--        >-->\r\n<!--      </n-upload-dragger>-->\r\n<!--    </n-upload>-->\r\n      <n-upload\r\n          @change=\"handleChange\"\r\n          :action=\"url\"\r\n          :default-upload=\"false\"\r\n\r\n          ref=\"upload\"\r\n      >\r\n        <n-button>选择文件</n-button>\r\n      </n-upload>\r\n    </div>\r\n\r\n\r\n\r\n    <n-divider dashed>提交</n-divider>\r\n    <n-form-item >\r\n      <n-space style=\"margin-left: 500px\">\r\n      <n-button   size=\"small\" type=\"info\">取消</n-button>\r\n      <n-button    size=\"small\" type=\"info\" @click=\"submit\">提交</n-button>\r\n      </n-space>\r\n    </n-form-item>\r\n  </n-form>\r\n\r\n  </n-card>\r\n</template>\r\n\r\n<script>\r\nimport {useRoute,useRouter} from 'vue-router'\r\nimport { ArchiveOutline as ArchiveIcon } from '@vicons/ionicons5'\r\nimport {onBeforeMount, onMounted, reactive, ref, toRef} from \"vue\";\r\nimport {getRequest, postRequest, postRequestData,putRequest} from \"../../api/request\";\r\nimport {useMessage} from \"naive-ui\"\r\n\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"newHouse\",\r\n  components:{\r\n    ArchiveIcon\r\n  },\r\n\r\n  setup(props){\r\n    const message=useMessage()\r\n    const route=useRoute();\r\n    const router=useRouter();\r\n    const mess=ref([])\r\n    const user=ref([])\r\n    const lease=ref([])//租期\r\n    const houseType=ref([])//居室类型\r\n    const direction=ref([])//朝向\r\n    const elevator=ref([])//电梯\r\n    const parking=ref([])//车位\r\n    const metroLine=ref([])//地铁线\r\n    const region=ref([])//区\r\n    const mode=ref([])//方式\r\n    const formRef=ref(null)\r\n    const rentaldemand=ref([])\r\n    const optionsData=ref([])\r\n    const houseMess=reactive({houseId:'',rent:'',lease:'',area:'',floor:'',houseType:'',direction:'',elevator:'',parking:'',metroLine:'',region:'',mode:''})\r\n    const id=ref()\r\n    const url=ref()\r\n    const fileListLength=ref()\r\n    const upload=ref()\r\n    const houseData=reactive(\r\n          {userId:'',adminId:'',location:'',community:'',building:'',door:'',houseDescription:''})\r\n\r\nfunction allWithChildren() {\r\n  getRequest('/search/allWithChildren').then(resp=>{\r\n    lease.value=resp.data.lease;\r\n    houseType.value=resp.data.houseType;\r\n    direction.value=resp.data.direction;\r\n    elevator.value=resp.data.elevator;\r\n    parking.value=resp.data.parking;\r\n    metroLine.value=resp.data.metroLine;\r\n    region.value=resp.data.region;\r\n    mode.value=resp.data.mode\r\n\r\n    // console.log(resp.data.lease)\r\n  })\r\n}\r\n\r\nfunction submit() {\r\n  formRef.value.validate((errors) =>{\r\n    if(!errors){\r\n      postRequestData('/house/add',houseData).then(resp=>{\r\n        id.value=resp.data.data\r\n        if (id.value!==null&&id.value!==''){\r\n          url.value=\"/import/\"+id.value\r\n          message.info(id.value)\r\n          upload.value.submit()\r\n          setTimeout(function (){\r\n            upload.value.submit()\r\n          },100)//此处需要延迟执行，需要执行两次函数才能上传，可能组件有点问题。\r\n\r\n        }\r\n        if (resp.data.data>=0){\r\n          console.log(houseMess)\r\n          postRequestData('/house/addBasic/?id='+id.value,houseMess).then(resp=>{\r\n            if (resp.data){\r\n              postRequestData('/house/addInstall/?id='+id.value+\"&&ids=\"+optionsData.value).then(resp=>{\r\n                console.log(resp.data)\r\n                if(resp){\r\n                  putRequest('/appointment/updateSuccess/'+route.query.data).then(resp=>{\r\n                    if(resp){\r\n                      router.push('/agent/mine');\r\n                      message.success('审核成功')\r\n                    }\r\n                    console.log(resp)\r\n                  })\r\n                }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }else {\r\n      message.error('检验失败！')\r\n\r\n    }\r\n  })\r\n\r\n\r\n\r\n}\r\n\r\n\r\n    function findById() {\r\n      getRequest('/appointment/findById/'+route.query.data).then(resp=>{\r\n        mess.value=resp.data;\r\n        user.value=resp.data.user;\r\n        rentaldemand.value=resp.data.rentaldemand;\r\n        houseData.userId=resp.data.user.id;\r\n        houseData.adminId=resp.data.adminId;\r\n        houseData.location=resp.data.rentaldemand.location;\r\n        houseData.community=resp.data.rentaldemand.community;\r\n        houseData.building=resp.data.rentaldemand.building;\r\n        houseData.door=resp.data.rentaldemand.door;\r\n\r\n\r\n      })\r\n    }\r\n\r\n    onMounted(findById)\r\n    onMounted(allWithChildren)\r\n\r\n    return{\r\n      fileListLength,\r\n      upload,\r\n      formRef,\r\n      mode,\r\n      region,\r\n      metroLine,\r\n      parking,\r\n      elevator,\r\n      direction,\r\n      houseType,\r\n      lease,\r\n      allWithChildren,\r\n      id,\r\n      url,\r\n      houseData,\r\n      // house,\r\n      optionsData,\r\n      mess,\r\n      submit,\r\n      findById,\r\n      user,\r\n      rentaldemand,\r\n      houseMess,\r\n      handleChange ({ fileList }) {\r\n        fileListLength.value = fileList.length\r\n      },\r\n      test:()=>{\r\n\r\n          if (id.value!==null&&id.value!==''){\r\n            url.value=\"/import/\"+id.value\r\n            message.info(id.value)\r\n            upload.value.submit()\r\n            setTimeout(function (){\r\n              upload.value.submit()\r\n            },100)//此处需要延迟执行，需要执行两次函数才能上传，可能组件有点问题。\r\n\r\n          }\r\n\r\n\r\n          message.info(url.value)\r\n\r\n\r\n\r\n      },\r\n      test1:()=>{\r\n        upload.value.submit()\r\n      },\r\n  rules:{\r\n      rent:{\r\n        required: true,\r\n        message: '请输入租金',\r\n        trigger: 'blur'\r\n    },\r\n    region:{\r\n      required: true,\r\n      message: '请选择区域',\r\n      trigger: 'blur'\r\n    },\r\n    metroLine:{\r\n      required: true,\r\n      message: '请选择地铁线',\r\n      trigger: 'blur'\r\n    },\r\n    mode:{\r\n      required: true,\r\n      message: '请选择方式',\r\n      trigger: 'blur'\r\n    },\r\n    lease:{\r\n      required: true,\r\n      message: '请选择租期',\r\n      trigger: 'blur'\r\n    },\r\n    area:{\r\n      required: true,\r\n      message: '请输入面积',\r\n      trigger: 'blur'\r\n    },\r\n    floor:{\r\n      required: true,\r\n      message: '请选择楼层',\r\n      trigger: 'blur'\r\n    },\r\n    houseType:{\r\n      required: true,\r\n      message: '请选择居室类型',\r\n      trigger: 'blur'\r\n    },\r\n    direction:{\r\n      required: true,\r\n      message: '请选择朝向',\r\n      trigger: 'blur'\r\n    },\r\n    elevator:{\r\n      required: true,\r\n      message: '请选择有无电梯',\r\n      trigger: 'blur'\r\n    },\r\n    parking:{\r\n      required: true,\r\n      message: '请选择有无车位',\r\n      trigger: 'blur'\r\n    },\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./newHouse.vue?vue&type=template&id=5ffc321c&scoped=true\"\nimport script from \"./newHouse.vue?vue&type=script&lang=js\"\nexport * from \"./newHouse.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-5ffc321c\"\n\nexport default script"],"sourceRoot":""}