{"version":3,"sources":["webpack:///./src/views/Home/index.vue","webpack:///./node_modules/@vicons/ionicons5/es/LogIn.js","webpack:///./src/views/Home/index.vue?6887","webpack:///./src/views/Home/index.vue?bd51"],"names":["class","style","text","userMessage","showModal","icon","username","img","size","src","show","preset","bordered","header-extra","default-value","name","tab","model","loginForm","label","path","value","password","type","block","submitLogin","regForm","regSubmit","vertical","searchData","s","index","key","children","c","checked","xmlns","viewBox","d","fill","render","_ctx","_cache","components","LogIn","setup","store","message","console","log","then","resp","data","commit","window","localStorage","setItem","JSON","stringify","state","user","userface","success","getSearchType","__scopeId"],"mappings":"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","file":"js/chunk-476d579f.67ae66c3.js","sourcesContent":["<template>\r\n\r\n  <div class=\"header\">\r\n    <div class=\"leftHeader\">\r\n      <n-button text>首页</n-button>\r\n      <n-button text class=\"bText\">租房</n-button>\r\n      <n-button text class=\"bText\">发布房源</n-button>\r\n    </div>\r\n    <div class=\"rightHeader\">\r\n      <n-button text @click=\"showModal=true\" v-if=\"userMessage==''||userMessage==null\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <LogIn/>\r\n          </n-icon>\r\n        </template>\r\n        登录/注册</n-button>\r\n      <n-button text v-if=\"userMessage!==''&&userMessage!=null\">{{userMessage.username}}</n-button>\r\n      <n-avatar v-if=\"img!==''&& userMessage!=null\"\r\n          size=\"medium\"\r\n          :src=\"img\"\r\n      />\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n    <n-modal\r\n        v-model:show=\"showModal\"\r\n        preset=\"card\"\r\n        style=\"width: 400px\"\r\n\r\n        size=\"small\"\r\n        :bordered=\"false\"\r\n\r\n    >\r\n      <template #header-extra>  </template>\r\n      <n-tabs default-value=\"signin\" size=\"small\">\r\n        <n-tab-pane name=\"signin\" tab=\"登录\">\r\n          <n-form :model=\"loginForm\">\r\n            <n-form-item-row label=\"用户名\" path=\"username\">\r\n              <n-input v-model:value=\"loginForm.username\"/>\r\n            </n-form-item-row>\r\n            <n-form-item-row label=\"密码\" path=\"password\">\r\n              <n-input v-model:value=\"loginForm.password\"/>\r\n            </n-form-item-row>\r\n          </n-form>\r\n          <n-button type=\"primary\" block @click=\"submitLogin\" >登录</n-button>\r\n        </n-tab-pane>\r\n        <n-tab-pane name=\"signup\" tab=\"注册\">\r\n          <n-form :model=\"regForm\">\r\n            <n-form-item-row label=\"用户名\" path=\"username\">\r\n              <n-input v-model:value=\"regForm.username\" />\r\n            </n-form-item-row>\r\n            <n-form-item-row label=\"密码\" path=\"password\">\r\n              <n-input v-model:value=\"regForm.password\"/>\r\n            </n-form-item-row>\r\n            <n-form-item-row label=\"重复密码\">\r\n              <n-input />\r\n            </n-form-item-row>\r\n          </n-form>\r\n          <n-button type=\"primary\" block @click=\"regSubmit\">注册</n-button>\r\n        </n-tab-pane>\r\n      </n-tabs>\r\n\r\n    </n-modal>\r\n\r\n\r\n<!--  登录注册的tab-->\r\n<n-space vertical>\r\n  <div   v-for=\"(s,index) in searchData\" :key=\"index\" style=\"display: flex;flex-direction: row\">\r\n    <div style=\"margin-left: 50px;margin-right: 30px\">{{s.name}}</div>\r\n    <div v-for=\"c in s.children\" >\r\n      <n-checkbox v-model:checked=\"value\">{{c.name}}</n-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n</n-space>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {onMounted, reactive, ref} from \"vue\";\r\nimport {getRequest, postRequest, postRequestData} from \"../../api/request\";\r\nimport {useStore} from 'vuex'\r\nimport {useMessage} from \"naive-ui\";\r\nimport {LogIn} from '@vicons/ionicons5'\r\n\r\nexport default {\r\n  name: \"index\",\r\n  components:{\r\n    LogIn\r\n  },\r\n  setup(){\r\n    const showModal=ref(false)\r\n    const searchData=ref([])\r\n    const regForm=reactive({username:'',password:''})\r\n    const loginForm=reactive({username:'',password:''})\r\n    const value=ref()\r\n    const store=useStore()\r\n    const message=useMessage()\r\n    const userMessage=ref('')\r\n    const img=ref('')\r\n\r\n    function submitLogin(){\r\n      console.log(loginForm)\r\n      postRequestData('/user/doLogin/'+loginForm.username+\"/\"+loginForm.password).then(resp=>{\r\n        if (resp){\r\n          console.log(resp.data.data);\r\n          store.commit(\"INIT_USER\",resp.data.data)\r\n          window.localStorage.setItem('loginUser', JSON.stringify(resp.data.data));\r\n          // window.sessionStorage.setItem(\"loginUser\",resp.data.data)\r\n          userMessage.value=store.state.user;\r\n          img.value=resp.data.data.userface;\r\n          showModal.value=false;\r\n          message.success(\"成功登录！\")\r\n          console.log(userMessage.value)\r\n\r\n\r\n        }\r\n      })\r\n    }\r\n\r\n    function regSubmit() {\r\n      console.log(regForm.value)\r\n      postRequestData('/user/reg/'+regForm.username+\"/\"+regForm.password).then(resp=>{\r\n        console.log(resp)\r\n      })\r\n    }\r\n\r\n    function getSearchType(){\r\n      getRequest('/search/getSearchType').then(resp=>{\r\n        searchData.value=resp.data.data;\r\n        userMessage.value=store.state.user;\r\n        if (userMessage.value){img.value=store.state.user.userface}\r\n\r\n       console.log(store.state.user)\r\n      })\r\n    }\r\n    onMounted(getSearchType)\r\nreturn{\r\n      img,\r\n      userMessage,\r\n      submitLogin,\r\n      showModal,\r\n  loginForm,\r\n  getSearchType,\r\n  searchData,\r\n  regForm,\r\n  regSubmit,\r\n  value\r\n\r\n}\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.headbg{\r\n  background-color: #394043;\r\n}\r\n.headText{\r\n  color: white;\r\n  font-size: 12px;\r\n}\r\n.leftHeader{\r\n  margin-left: 185px;\r\n}\r\n.header{\r\n  display: flex;\r\n  flex-direction: row;\r\n  /*justify-content: center;*/\r\n  align-items: center;\r\n  height: 45px;\r\n}\r\n.bText{\r\n  margin-left: 50px;\r\n}\r\n.rightHeader{\r\n  margin-left: 300px;\r\n}\r\n</style>\r\n","import { createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M392 80H232a56.06 56.06 0 0 0-56 56v104h153.37l-52.68-52.69a16 16 0 0 1 22.62-22.62l80 80a16 16 0 0 1 0 22.62l-80 80a16 16 0 0 1-22.62-22.62L329.37 272H176v104c0 32.05 33.79 56 64 56h152a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createVNode(\n  'path',\n  {\n    d: 'M80 240a16 16 0 0 0 0 32h96v-32z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nexport default defineComponent({\n  name: 'LogIn',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createBlock('svg', _hoisted_1, [_hoisted_2, _hoisted_3])\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=797286ca&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=797286ca&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-797286ca\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=797286ca&scoped=true&lang=css\""],"sourceRoot":""}