{"version":3,"sources":["webpack:///./src/views/Customer/examine.vue","webpack:///./src/views/Customer/examine.vue?9b3a"],"names":["vertical","bordered","single-line","size","style","oneData","user","name","call","src","userface","gender","location","community","building","door","demandPhone","title","rules","label-width","model","timestamp","ref","label-placement","label","path","value","time","type","clearable","block","returnRouter","submit","setup","data","route","router","message","formRef","uid","go","findOne","then","resp","console","log","validate","errors","error","success","query","required","trigger","render","__scopeId"],"mappings":"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","file":"js/chunk-2d0dd624.4408cdf0.js","sourcesContent":["<template>\r\n\r\n  <n-space vertical>\r\n    <n-table :bordered=\"false\" :single-line=\"false\" size=\"small\" style=\"width: 900px;margin: 20px auto; text-align: center\">\r\n      <thead>\r\n      <tr>\r\n        <th>姓名</th>\r\n        <th>称呼</th>\r\n        <th>头像</th>\r\n        <th>性别</th>\r\n        <th>区域</th>\r\n        <th>小区</th>\r\n        <th>楼号</th>\r\n        <th>房号</th>\r\n        <th>联系电话</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td>{{oneData.user.name}}</td>\r\n        <td>{{oneData.call}}</td>\r\n        <td><n-avatar\r\n            size=\"medium\"\r\n            :src=\"oneData.user.userface\"\r\n        /></td>\r\n        <td>{{oneData.user.gender}}</td>\r\n        <td>{{oneData.location}}</td>\r\n        <td>{{oneData.community}}</td>\r\n        <td>{{oneData.building}}</td>\r\n        <td>{{oneData.door}}</td>\r\n        <td>{{oneData.demandPhone}}</td>\r\n\r\n      </tr>\r\n\r\n      </tbody>\r\n    </n-table></n-space>\r\n  <n-card title=\"预约日期\" :bordered=\"true\" size=\"small\" style=\"width: 650px;margin: 20px auto; text-align: center\">\r\n    <n-form\r\n        :rules=\"rules\"\r\n\r\n        :label-width=\"180\"\r\n        :model=\"timestamp\"\r\n        ref=\"formRef\"\r\n        label-placement=\"left\"\r\n    >\r\n\r\n\r\n      <n-form-item label=\"选择预约的日期\" path=\"time\">\r\n        <n-date-picker v-model:value=\"timestamp.time\"  type=\"datetime\" clearable style=\"margin-left: 50px\"/>\r\n      </n-form-item>\r\n      <n-form-item style=\"display: flex;flex-direction: column\">\r\n        <n-button type=\"primary\" size=\"small\" block @click=\"returnRouter\">取消</n-button>\r\n        <n-button type=\"primary\" size=\"small\" block style=\"margin-left: 30px\" @click=\"submit\">确定</n-button>\r\n      </n-form-item>\r\n    </n-form>\r\n  </n-card>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {onMounted, reactive, ref} from \"vue\";\r\nimport {useRoute,useRouter}from\"vue-router\"\r\nimport {getRequest, postRequest} from \"../../api/request\";\r\nimport {useMessage} from 'naive-ui'\r\n\r\nexport default {\r\n  name: \"examine\",\r\n  setup(){\r\n    const data=ref()\r\n    const route=useRoute()\r\n    const router=useRouter()\r\n    const oneData=ref({user:{}})\r\n    const timestamp=ref({time:null})\r\n    const  message=useMessage()\r\n    const formRef=ref(null)\r\n    const uid=ref()\r\n\r\n\r\n\r\n    data.value=route.query.data;\r\n\r\n\r\n\r\n    function returnRouter(){\r\n      router.go(-1)\r\n    }\r\n\r\n    function findOne(){\r\n      getRequest('/rent/findOne/'+data.value).then(resp=>{\r\n        oneData.value=resp.data\r\n        uid.value=resp.data.uid\r\n        console.log(resp.data)\r\n      })\r\n    }\r\n    function submit() {\r\n      formRef.value.validate((errors)=>{\r\n        if(!errors){\r\n          postRequest('/appointment/add/?'+'rentalId='+data.value+'&&appointmentDate='+timestamp.value.time+'&&uid='+uid.value).then(resp=>{\r\n            if (resp){\r\n              message.success('已经成功处理！')\r\n              router.go(-1);\r\n            }\r\n            console.log(resp)\r\n          })\r\n        }else {\r\n          message.error('请输入预约时间！')\r\n        }\r\n      })\r\n\r\n\r\n    }\r\n    onMounted(findOne)\r\n\r\n\r\n\r\n    return{\r\n      uid,\r\n      formRef,\r\n      returnRouter,\r\n      findOne,\r\n      oneData,\r\n      data,\r\n      timestamp,\r\n      submit,\r\n      message,\r\n      rules:{\r\n        time: {\r\n           type:'number',\r\n          required: true,\r\n          trigger: ['blur', 'change'],\r\n\r\n          message: '请输入预约时间'\r\n        },\r\n      }\r\n\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./examine.vue?vue&type=template&id=25f29938&scoped=true\"\nimport script from \"./examine.vue?vue&type=script&lang=js\"\nexport * from \"./examine.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-25f29938\"\n\nexport default script"],"sourceRoot":""}